### ===========================================
### User API テスト
### ===========================================
### 使い方: 各リクエストの上の「Send Request」をクリック
### ===========================================

@baseUrl = http://localhost:8081/api/v1

### -------------------------------------------
### ヘルスチェック（疎通確認）
### -------------------------------------------
GET {{baseUrl}}/health
Accept: application/json

### -------------------------------------------
### 一覧取得
### -------------------------------------------
GET {{baseUrl}}/users
Accept: application/json

### -------------------------------------------
### 詳細取得
### -------------------------------------------
GET {{baseUrl}}/users/1
Accept: application/json

### -------------------------------------------
### 新規作成
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{
    "name": "会議室A",
    "email": "test@example.com",
    "email_verified_at": "2025-01-01",
    "password": "テストpassword",
    "remember_token": "テストremember_token"
}

### -------------------------------------------
### 更新
### -------------------------------------------
PUT {{baseUrl}}/users/1
Content-Type: application/json
Accept: application/json

{
    "name": "会議室A（更新後）",
    "email": "test@example.com",
    "email_verified_at": "2025-01-01",
    "password": "テストpassword（更新後）",
    "remember_token": "テストremember_token（更新後）"
}

### -------------------------------------------
### 削除
### -------------------------------------------
DELETE {{baseUrl}}/users/1
Accept: application/json

### -------------------------------------------
### 検索（nameで絞り込み）
### -------------------------------------------
GET {{baseUrl}}/users?name=太郎
Accept: application/json

### -------------------------------------------
### ページネーション
### -------------------------------------------
GET {{baseUrl}}/users?page=3&per_page=5
Accept: application/json

### -------------------------------------------
### ソート（作成日で昇順）
### -------------------------------------------
GET {{baseUrl}}/users?sort_by=created_at&sort_order=asc
Accept: application/json

### -------------------------------------------
### ソート（作成日で降順）
### -------------------------------------------
GET {{baseUrl}}/users?sort_by=created_at&sort_order=desc
Accept: application/json

### -------------------------------------------
### 組み合わせ（ページネーション + ソート）
### -------------------------------------------
GET {{baseUrl}}/users?page=1&per_page=10&sort_by=created_at&sort_order=desc
Accept: application/json

### ===========================================
### エラーケース
### ===========================================

### -------------------------------------------
### 404エラー: 存在しないリソースの取得
### 期待: 404 Not Found
### -------------------------------------------
GET {{baseUrl}}/users/99999
Accept: application/json

### -------------------------------------------
### 404エラー: 存在しないリソースの更新
### 期待: 404 Not Found
### -------------------------------------------
PUT {{baseUrl}}/users/99999
Content-Type: application/json
Accept: application/json

{
    "dummy": "value"
}

### -------------------------------------------
### 404エラー: 存在しないリソースの削除
### 期待: 404 Not Found
### -------------------------------------------
DELETE {{baseUrl}}/users/99999
Accept: application/json

### -------------------------------------------
### 422エラー: 空のリクエストボディ（必須フィールド不足）
### 期待: 422 Unprocessable Entity
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{}

### -------------------------------------------
### 422エラー: email_verified_at の型不正
### 期待: 422 Unprocessable Entity
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{
    "name": "会議室A",
    "email": "test@example.com",
    "email_verified_at": "invalid-date",
    "password": "テストpassword",
    "remember_token": "テストremember_token"
}

### -------------------------------------------
### 422エラー: name の最大長超過（max:255）
### 期待: 422 Unprocessable Entity
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{
    "name": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
    "email": "test@example.com",
    "email_verified_at": "2025-01-01",
    "password": "テストpassword",
    "remember_token": "テストremember_token"
}

### -------------------------------------------
### 422エラー: email の最大長超過（max:255）
### 期待: 422 Unprocessable Entity
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{
    "name": "会議室A",
    "email": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
    "email_verified_at": "2025-01-01",
    "password": "テストpassword",
    "remember_token": "テストremember_token"
}

### -------------------------------------------
### 422エラー: password の最大長超過（max:255）
### 期待: 422 Unprocessable Entity
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{
    "name": "会議室A",
    "email": "test@example.com",
    "email_verified_at": "2025-01-01",
    "password": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
    "remember_token": "テストremember_token"
}

### -------------------------------------------
### 422エラー: remember_token の最大長超過（max:100）
### 期待: 422 Unprocessable Entity
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{
    "name": "会議室A",
    "email": "test@example.com",
    "email_verified_at": "2025-01-01",
    "password": "テストpassword",
    "remember_token": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
}

### -------------------------------------------
### 422エラー: email の不正なメール形式
### 期待: 422 Unprocessable Entity
### -------------------------------------------
POST {{baseUrl}}/users
Content-Type: application/json
Accept: application/json

{
    "name": "会議室A",
    "email": "invalid-email-format",
    "email_verified_at": "2025-01-01",
    "password": "テストpassword",
    "remember_token": "テストremember_token"
}
